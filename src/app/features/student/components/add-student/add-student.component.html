<div class="container contact-form myContentClass" *ngIf="!submitted">
        <form (ngSubmit)="saveStudent()" #studentForm="ngForm" >
            <h3>Veuillez renseigner ce formulaire pour ajouter un étudiant :</h3>
                <hr>
                <p>Informations générales sur l'étudiant</p>
                <div class="row">
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="text" [(ngModel)]="student.nom" required #nom="ngModel" 
                            class="form-control" name="nom" placeholder="Nom*" maxlength="30"  />
                            <span class="unit">Nom : </span>
                            <div *ngIf="nom.errors && (nom.dirty || nom.touched)" class="alert alert-danger">
                                <div [hidden]="!nom.errors?.required">
                                    Le nom de l'étudiant est requis.
                                </div>
                                <div [hidden]="!nom.errors?.maxlength">
                                    Ce champ ne peut pas comporter plus de 30 caractères.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="text" [(ngModel)]="student.prenom" required #prenom="ngModel" 
                            class="form-control" name="prenom" placeholder="Prenom*" maxlength="30"  />
                            <span class="unit">Prenom : </span>
                            <div *ngIf="prenom.errors && (prenom.dirty || prenom.touched)" class="alert alert-danger">
                                <div [hidden]="!prenom.errors?.required">
                                    Le prenom d'étudiant est requis.
                                </div>
                                <div [hidden]="!prenom.errors?.maxlength">
                                    Ce champ ne peut pas comporter plus de 30 caractères.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="numbre" [(ngModel)]="student.code_etudiant" required #code_etudiant="ngModel" 
                            class="form-control" name="code_etudiant" placeholder="Code d'étudiant*" maxlength="10"  />
                            <span class="unit">Code d'étudiant : </span>
                            <div *ngIf="code_etudiant.errors && (code_etudiant.dirty || code_etudiant.touched)" class="alert alert-danger">
                                <div [hidden]="!code_etudiant.errors?.required">
                                    Le code d'étudiant est requis.
                                </div>
                                <div [hidden]="!code_etudiant.errors?.maxlength">
                                    Ce champ ne peut pas comporter plus de 10 caractères.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <p>Informations académique sur l'étudiant</p>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <select class="custom-select form-control" name="filiere" 
                              [(ngModel)]="student.filiere" #filiere="ngModel" pattern="^[A-Z]{0,4}$">
                              <option *ngFor="let filiere of filieres" [ngValue]="filiere">
                                {{ filiere }}
                              </option>
                            </select>
                            <div *ngIf="filiere.errors && (filiere.dirty || filiere.touched)" class="alert alert-danger">
                              <div [hidden]="!filiere.errors?.pattern" >
                                La filiére est requise.
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="text" [(ngModel)]="student.promotion" required #promotion="ngModel" class="form-control" name="promotion" placeholder="Promotion*" pattern="^20\d{2}$"  />
                            <span class="unit">Promotion : </span>
                            <div *ngIf="promotion.errors && (promotion.dirty || promotion.touched)" class="alert alert-danger">
                                <div [hidden]="!promotion.errors?.required">
                                    La promotion est requise.
                                </div>
                                <div [hidden]="!promotion.errors?.pattern">
                                    Entrer une date valide entre 2000 et 2099.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <p>Contact d'étudiant</p>
                <div class="row">
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="text" [(ngModel)]="student.email_pro" #email_pro="ngModel" name="email_pro" class="form-control nature" placeholder="Email professionnel*" required pattern="^[a-zA-Z]+\.+[a-zA-Z]+@ensam-casa\.ma$" />
                            <span class="unit">Email professionnel: </span>
                            <div *ngIf="email_pro.errors && (email_pro.dirty || email_pro.touched)" class="alert alert-danger">
                                <div [hidden]="!email_pro.errors?.required">
                                    L'email professionnel est requis.
                                </div>
                                <div [hidden]="!email_pro.errors?.pattern">
                                    Veuillez entrer un email valide !
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="text" [(ngModel)]="student.email_perso" name="email_perso" class="form-control nature" placeholder="Email personnel" pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$" #email="ngModel" name="email" />
                            <span class="unit">Email personnel: </span>
                            <div *ngIf="email.errors && (email.dirty || email.touched)" class="alert alert-danger">
                                <div [hidden]="!email.errors?.pattern">
                                    Veuillez entrer un email valide !
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group input-box">
                            <input type="tel" [(ngModel)]="student.telephone" name="telephone" pattern="^\+[1-9]{1}[0-9]{3,14}$" required
                            class="form-control nature" placeholder="Téléphone" #tel="ngModel" name="tel"/>
                            <span class="unit">Téléphone: </span>
                            <div *ngIf="tel.errors && (tel.dirty || tel.touched)" class="alert alert-danger">
                                <div [hidden]="!tel.errors?.pattern">
                                    Veuillez entrer un numéro de téléphone valide (Format: +...) !
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="display: none; color:red;" id="ValidityFormWarn" class="alert "> 
                    Veuillez vérifier que tout les champs sont bien remplies ! 
                </div> 
                <div class="row" style="margin-top: 30px;">
                    <div class="col-6"></div>
                    <div class="col-6 " id="submitBtnDiv" 
                    style="display:inline-block; position:relative; padding-bottom: 0%;"
                    (click)="ValidityWarn()">
                    <button 
                        id="submitBtn"
                        type="submit"
                        [disabled]="!studentForm.form.valid"
                        class="btnContact "
                        >
                    Envoyer</button>           
                    </div>
                </div>
                
        </form>
</div>
<div class="container contact-form" *ngIf="submitted">
    <br/><br/><br/><br/><br/>
    <h4 style="text-align:center;"> L'étudiant est ajouté avec succès ! </h4>
    <br/>
    <button class="btnContact "
        routerLink="/etudiant">
        Retour vers liste étudiants
    </button>
    <br/><br/><br/><br/><br/>
</div>
